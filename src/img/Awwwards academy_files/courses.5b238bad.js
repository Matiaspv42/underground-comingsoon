(self.webpackChunkawwwards_new=self.webpackChunkawwwards_new||[]).push([[2953],{4735:(e,t,n)=>{"use strict";var r=n(566),s=n(6301),i=n(2316),c=n.n(i);const o=c().View.extend({el:".rating_container",events:{"click .star":"_setRatingHandler","mouseenter .star":"changeMsg","click .submit":"_rateReview","click .close":"_removeView",click:"_closeViewAction"},msgs:["Awful, not what I expected at all","Poor, pretty dissapointed","Average, could be better","Good, what I expected","Amazing, above the expectations"],initialize:function(){this.model.on("rating_sended",this._closeView,this),this.model.on("rating_error",this.showError,this);this._setRating(4),document.querySelector(".msg_rating").innerHTML=this.msgs[3]},_rateReview:function(){this._setComment(),this.model.sendReview(),this._closeView()},_setRatingHandler:function(e){var t=e.currentTarget.dataset.rating;this._setRating(t)},_setRating:function(e){this.model.setRate(e),document.querySelector(".js-stars-evaluate").dataset.stars=e},changeMsg:function(e){var t=e.currentTarget.dataset.rating;let n=this.msgs[t-1];document.querySelector(".msg_rating").innerHTML=n},_setComment:function(){let e=document.getElementById("comment").value;this.model.setContent(e)},_showComment:function(){document.querySelector(".rate").style.display="none",document.querySelector(".content").style.display="block"},_closeView:function(){this.el.querySelector(".container_rate").style.display="none",this.el.querySelector(".container_thanks").style.display="block"},_removeView:function(){this.el.classList.remove("open")},_closeViewAction:function(e){(e.target||e.srcElement).classList.contains("rating_container")&&this._removeView(),e.stopPropagation()},show:function(){this.el.classList.add("open")},showError:function(){}});n(9050);var l=n(9755);const a=c().Model.extend({defaults:{id:null,course_id:null,rate:0,content:""},setContent:function(e){this.set("content",e)},setRate:function(e){this.set("rate",e)},sendReview:function(){var e=this;l.post({url:s.Z.generate("tv_review_course_rate",{id:this.get("course_id")}),data:{rate:this.get("rate"),content:this.get("content")},success:function(){e.trigger("rating_sended")},error:function(t){e.trigger("rating_error",t)}})}});var u=n(5976),d=n(8943),h=n(8888),m=n.n(h);const g=c().View.extend({el:"body",events:{"click .js-change-lecture":"_navigateToLecture","click .js-open-section":"_openSection","click .rate":"_showRating","click .js-tabs-video li":"_showTab","click .js-check-finish-lecture":"_checkFinishLectureHandler","click .js-download-resource":"_downloadHandler","click .js-certificate":"_showCertificate"},playerContainer:null,player:null,review:null,storeProgressInterval:null,initialize:function(){this.playerContainer=document.getElementById("js-course-player-container"),this._checkViewedLessons(),this._setPercentageCompleted(),this._showCurrentLecture()},_showCurrentLecture:function(){if(null!==this.playerContainer.querySelector("video")){this.player=this._createPlayer(),this._storeProgress(this.player);let e=this;this.model.loadCurrentLecture().then((function(t){e.player.changePlaying(t)}))}},_showTab:function(e){let t=e.currentTarget,n=t.dataset.id,r=document.getElementById(n);document.querySelectorAll(".list-tabs li").forEach((function(e){e.classList.remove("active")})),document.querySelectorAll(".content-tab").forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),r.classList.add("active")},_openSection:function(e){let t=e.currentTarget.closest("li");t.classList.contains("active")?t.classList.remove("active"):(document.querySelectorAll(".list-sections > li").forEach((function(e){e.classList.remove("active")})),t.classList.add("active"))},_navigateToLecture:function(e){let t=e.currentTarget;this._navigateAndPlay(t,"manual")},_navigateAndPlay:function(e,t){let n=e.parentElement.parentElement,r=JSON.parse(e.dataset.model),i=this.model.getCurrentLecture();if(r.id!==i.id){this._changeLecture(n,r,i),this.model.changeLectureSelected(r.id),history.pushState(null,"",s.Z.generate("tv_course_show_lecture",{lectureId:r.id,slug:this.model.getSlug()}));var c=this;this.model.getVideoSource(this.model.get("current_lecture").id,t).then((function(e){e.isHtml?c._changeToHtml(e.html):c._changeToVideo(e)}))}},_changeLecture:function(e,t,n){this._deactivateLecture(n),this._activateLecture(t,e)},_activateLecture:function(e,t){if(document.querySelector(".js-lecture-"+e.id).classList.add("show"),document.querySelector(".js-section-"+e.section.id).classList.add("active"),window.innerWidth>999)t.scrollIntoView({behavior:"smooth"});else{let e=t.offsetTop-this.playerContainer.offsetHeight;window.scrollTo(0,e)}},_deactivateLecture:function(e){document.querySelector(".js-lecture-"+e.id).classList.remove("show"),document.querySelector(".js-section-"+e.section.id).classList.remove("active")},_setPercentageCompleted:function(){let e=document.querySelector(".box-progress"),t=e.querySelector(".percentage"),n=this.model.getPercentageCompleted();t.innerHTML=Math.round(n)+"%",e.querySelector(".bar").style.width=n+"%"},_downloadHandler:function(e){let t=e.currentTarget.dataset.lecture;this.model.setStateLecture(t,"manual"),document.querySelector(".js-lecture-"+t).querySelector("input").checked=!0},_showCertificate:function(e){var t=document.getElementById("js-user-details"),n=JSON.parse(t.dataset.user);new d.Z({remove_after_close:!0}).show(m()({certificateAvailableForUser:this.model.certificateAvailableForUser(),slug:this.model.getSlug(),username:n.username}))},_checkFinishLectureHandler:function(e){let t=e.currentTarget.dataset.lecture;this.model.setStateLecture(t,"manual"),this._toggleCheckLesson(t),this._setPercentageCompleted()},_checkViewedLessons:function(){let e=this.model.getLecturesFinished();for(let t=0;t<e.length;t++){const n=e[t];this._markLessonAsFinished(n)}},_showRating:function(){let e={course_id:this.model.getId()};null===this.review&&(this.review=new o({model:new a(e)})),this.review.show()},_markCurrentLessonAsFinished:function(){let e=this.model.getCurrentLecture();this._markLessonAsFinished(e.id)},_markLessonAsFinished:function(e){this._getCheckLectureVideo(e).checked=!0},_toggleCheckLesson:function(e){let t=this._getCheckLectureVideo(e);t.checked=!t.checked},_getCheckLectureVideo:function(e){return document.querySelector(".js-lecture-"+e).querySelector("input")},_createVideoTag:function(){let e=document.createElement("video");return e.id="video",e.classList.add("js-video","video-js"),e.setAttribute("crossorigin","anonymous"),e},_createPlayer:function(){null===this.playerContainer.querySelector("#video")&&this.playerContainer.appendChild(this._createVideoTag());const e=this.playerContainer.querySelector("#video");let t=new u.Z(e,{aspectRatio:"16:9",playbackRates:[.5,1,1.5,2]});var n=this;return e.ontimeupdate=function(){e.currentTime/e.duration>.95&&!n.model.getCurrentLecture().completed&&(n.model.completeCurrentLecture(),n._markCurrentLessonAsFinished())},e.onended=function(){n._markCurrentLessonAsFinished(),n._getNextLecture(),n._setPercentageCompleted()},t},_resetContainer:function(){this.playerContainer.innerHTML=""},_removePlayer:function(){this.player.dispose(),this.player=null},_changeToHtml:function(e){this._resetContainer(),this.player&&this._removePlayer();let t=document.createElement("div");t.classList.add("js-lecture-html");let n=document.createElement("div");n.classList.add("wrapper-lecture");let r=document.createElement("div");r.classList.add("content-lecture","js-lecture-html-content"),t.appendChild(n),n.appendChild(r),r.innerHTML=e,this.playerContainer.appendChild(t)},_changeToVideo:function(e){this._resetStoreProgress(),null==this.player&&(this._resetContainer(),this.player=this._createPlayer()),this._storeProgress(this.player);let t=this.player.emtpyTracks();this.player.changePlaying(e,t)},_getNextLecture:function(){let e=this.model.getNextLecture(),t=document.querySelector(".js-lecture-"+e.id);if(t){let e=t.closest(".js-video-lesson");this._navigateAndPlay(e.querySelector(".js-change-lecture"),"auto")}else console.log("Course Finished.")},_storeProgress:function(e){var t=this,n=0,r=e.getVideoDOM();function s(){n!==Math.round(r.currentTime)&&(n=Math.round(r.currentTime),t.model.storeCurrentTime(Math.round(r.currentTime)))}e.on("play",(function(){null===t.storeProgressInterval&&(t.storeProgressInterval=setInterval(s,1e4))}))},_resetStoreProgress:function(){clearInterval(this.storeProgressInterval),this.storeProgressInterval=null}});n(8713);var p=n(9755);const _=c().Model.extend({defaults:{id:"",slug:"",subtitles:!1,lectures:[],current_lecture:null},changeLectureSelected:function(e){for(var t in this.get("lectures"))if(t===e)return void this.set("current_lecture",this.get("lectures")[t])},getVideoSource:function(e,t){return p.get({url:s.Z.generate("tv_course_lecture_source",{id:e,mode:t})})},loadCurrentLecture:function(){let e=this.getCurrentLecture();return this.getVideoSource(e.id,"manual")},getSlug:function(){return this.get("slug")},getId:function(){return this.get("id")},getLecturesFinished:function(){let e=[];for(var t in this.get("lectures")){let n=this.get("lectures")[t];n.completed&&e.push(n.id)}return e},getTotalLectures:function(){let e=0;for(var t in this.get("lectures"))e++;return e},certificateAvailableForUser:function(){return this.getPercentageCompleted()>95},getPercentageCompleted:function(){let e=this.getLecturesFinished(),t=this.getTotalLectures();return 100*e.length/t},setStateLecture:function(e,t){this.get("lectures")[e].completed?this._postUncompleteLecture(e,t):this._postCompleteLecture(e,t),this.get("lectures")[e].completed=!this.get("lectures")[e].completed},_postStoreTimeLecture:function(e,t){p.post({url:s.Z.generate("tv_lecture_store_time",{id:e}),data:{time:t}})},_postCompleteLecture:function(e,t){p.post({url:s.Z.generate("tv_lecture_complete",{id:e,mode:t})})},_postUncompleteLecture:function(e,t){p.post({url:s.Z.generate("tv_lecture_uncomplete",{id:e,mode:t})})},storeCurrentTime:function(e){let t=this.get("current_lecture");this.get("lectures")[t.id]=t,this._postStoreTimeLecture(t.id,e)},completeCurrentLecture:function(){let e=this.get("current_lecture");e.completed=!0,this.get("lectures")[e.id]=e,this._postCompleteLecture(e.id,"auto")},uncompleteCurrentLecture:function(){let e=this.get("current_lecture");e.completed=!0,this.get("lectures")[e.id]=e,this._postUncompleteLecture(e.id,"auto")},getCurrentLecture:function(){return this.get("current_lecture")},getNextLecture:function(){return this._findNextLectureId(this.get("current_lecture").id)},_findNextLectureId:function(e){var t=!1;for(var n in this.get("lectures")){if(t)return this.get("lectures")[n];n===e&&(t=!0)}return null}});document.addEventListener("DOMContentLoaded",(function(){new r.Z;let e=JSON.parse(document.querySelector(".courseID").dataset.model);new g({model:new _(e)})}))},8888:(e,t,n)=>{var r=n(202);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,i,c){var o=null!=t?t:e.nullContext||{},l=e.escapeExpression,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <p>\n                <a href="'+l(s(n(5040)).call(o,"tv_academy_web_course_certificate",{name:"helpers/path",hash:{slug:null!=t?a(t,"slug"):t,username:null!=t?a(t,"username"):t},data:c,loc:{start:{line:8,column:25},end:{line:8,column:110}}}))+'">\n                   <svg height="100" width="100" viewBox="0 0 32 32"><path d="M5.5 32h21c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2h-21c-1.1 0-2 .9-2 2v28c0 1.1.9 2 2 2zM4 2C4 1.173 4.673.5 5.5.5h21c.827 0 1.5.673 1.5 1.5v28c0 .827-.673 1.5-1.5 1.5h-21c-.827 0-1.5-.673-1.5-1.5V2z"/><path d="M8.507 24.792h14.986v.5H8.507zM8.507 21.25h14.986v.5H8.507zM7.869 11.272h1.982v2.192h1.012V8.453H9.851v1.971H7.869V8.453H6.857v5.011h1.012zM13.037 13.464h1.011V9.3h1.484v-.847H11.55V9.3h1.487zM17.111 9.519l.992 3.945h.973l.995-3.945v3.945h.941V8.453h-1.518l-.899 3.418-.909-3.418h-1.515v5.011h.94zM25.571 12.62h-2.515V8.494h-1.012v4.97h3.527z"/></svg>\n                </a>\n                <a href="'+l(s(n(5040)).call(o,"tv_academy_course_certificate",{name:"helpers/path",hash:{slug:null!=t?a(t,"slug"):t},data:c,loc:{start:{line:11,column:25},end:{line:11,column:87}}}))+'">\n                    <svg height="100" width="100" viewBox="0 0 32 32"><path d="M10.521 11.573h.66c.458 0 .808-.023 1.049-.071a1.48 1.48 0 00.525-.237c.172-.12.313-.284.425-.494s.167-.469.167-.775c0-.399-.097-.725-.291-.977s-.434-.415-.721-.49c-.187-.05-.588-.075-1.203-.075H9.509v5.011h1.012v-1.892zm0-2.273h.489c.365 0 .607.012.728.034.164.029.3.104.407.223a.647.647 0 01.161.451.66.66 0 01-.431.635c-.134.053-.401.079-.8.079h-.554V9.3zM16.974 13.358c.298-.096.536-.229.711-.4.232-.226.411-.521.536-.885.103-.299.154-.654.154-1.066 0-.47-.055-.864-.164-1.185s-.27-.591-.479-.812a1.676 1.676 0 00-.756-.462c-.219-.063-.537-.096-.954-.096h-1.849v5.011h1.904c.375 0 .674-.035.897-.105zm-1.787-.738V9.3h.455c.413 0 .689.016.831.048a.956.956 0 01.468.236c.124.115.219.277.288.484.068.208.103.505.103.893s-.034.693-.103.918-.157.386-.266.483a.93.93 0 01-.408.208 2.73 2.73 0 01-.612.049h-.756zM20.252 11.334h2.092v-.847h-2.092V9.3h2.424v-.847H19.24v5.01h1.012z"/><path d="M5.5 32h21c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2h-21c-1.1 0-2 .9-2 2v28c0 1.1.9 2 2 2zM4 2C4 1.173 4.673.5 5.5.5h21c.827 0 1.5.673 1.5 1.5v28c0 .827-.673 1.5-1.5 1.5h-21c-.827 0-1.5-.673-1.5-1.5V2z"/><path d="M8.507 24.791h14.986v.5H8.507zM8.507 21.25h14.986v.5H8.507z"/></svg>\n                </a>\n            </p>\n'},3:function(e,t,r,i,c){return"            <p>\n                "+e.escapeExpression(s(n(8040)).call(null!=t?t:e.nullContext||{},"complete_course_to_download_certificate",{name:"helpers/trans",hash:{},data:c,loc:{start:{line:17,column:16},end:{line:17,column:79}}}))+"\n            </p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,i,c){var o,l=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="box-content-default size-small hidden" id="js-lightbox-certificate">\n    <div class="box-certificate" id="js-certificate-download">\n        <p class="text-uppercase">\n            '+e.escapeExpression(s(n(8040)).call(l,"certificate_of_completion",{name:"helpers/trans",hash:{},data:c,loc:{start:{line:4,column:12},end:{line:4,column:61}}}))+"\n        </p>\n"+(null!=(o=a(r,"if").call(l,null!=t?a(t,"certificateAvailableForUser"):t,{name:"if",hash:{},fn:e.program(1,c,0),inverse:e.program(3,c,0),data:c,loc:{start:{line:6,column:8},end:{line:19,column:15}}}))?o:"")+"    </div>\n</div>"},useData:!0})}},e=>{e.O(0,[9755,6928,5863,566,5771],(()=>{return t=4735,e(e.s=t);var t}));e.O()}]);